<!doctype html>
<html lang="en">
  <head>
    <!-- Preconnect hints for faster CDN resolution -->
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
    <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@400;600&display=swap">

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JS Exercise 15: Swap Stack Elements</title>
    
    <!-- CodeMirror CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/monokai.min.css">
    
    <!-- CodeMirror JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/javascript/javascript.min.js"></script>
    
    <link rel="preload" href="style.min.css" as="style">
    <link rel="stylesheet" href="style.min.css?v=15" />
  </head>
  <body>
    <!-- Back to Dashboard -->
    <a href="index.html" class="btn-back"><span class="nav-arrow">‚Üê</span> Dashboard</a>


    <!-- Exercise Navigation -->
    <div class="exercise-nav">
      <a href="14_remove_duplicates.html" class="nav-btn"><span class="nav-arrow">‚Üê</span> Previous</a>
      <span class="exercise-number">Exercise 15 of 27</span>
      <a href="16_linked_list_string.html" class="nav-btn">Next <span class="nav-arrow">‚Üí</span></a>
    </div>

    <!-- Demo Output Section -->
    <div class="clock-section" style="width: 100%; display: flex; justify-content: center; margin-top: 40px;">
        <div class="clock-container" style="max-width: 800px;">
          <div class="day-label" style="margin-bottom: 20px;">
            Stack Swap Demo
          </div>
          <div id="output-display" style="
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 10px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            color: #c9d1d9;
            min-height: 100px;
            white-space: pre-wrap;
            text-align: left;
          ">
            Click "Run Code" to see stack swap...
          </div>
        </div>
    </div>

    <!-- Split Layout Container -->
    <div class="exercise-split-view">
      
      <!-- Left Panel: Tutorial -->
      <div class="left-panel">
        <!-- Tutorial Section -->
        <div class="tutorial-container">
          <div class="tutorial-title"><span class="title-icon">üéì</span> Gi·∫£i th√≠ch chi ti·∫øt cho ng∆∞·ªùi m·ªõi</div>
          <p style="color: #8b949e; margin-bottom: 20px; font-size: 0.95rem; line-height: 1.6;">
            <strong>Stack</strong> l√† c·∫•u tr√∫c d·ªØ li·ªáu LIFO (Last In, First Out) - v√†o sau ra tr∆∞·ªõc.
            Gi·ªëng nh∆∞ ch·ªìng ƒëƒ©a: ƒëƒ©a cu·ªëi c√πng ƒë·∫∑t l√™n s·∫Ω ƒë∆∞·ª£c l·∫•y ra ƒë·∫ßu ti√™n.
          </p>
          <ul class="step-list">
            <li class="step-item">
              <strong>1. Stack Operations:</strong><br />
              - <code>push(item)</code> - Th√™m v√†o ƒë·ªânh stack<br />
              - <code>pop()</code> - L·∫•y ra t·ª´ ƒë·ªânh stack<br />
              - <code>peek()</code> - Xem ph·∫ßn t·ª≠ ƒë·ªânh (kh√¥ng x√≥a)<br />
              - <code>isEmpty()</code> - Ki·ªÉm tra stack r·ªóng
            </li>
            <li class="step-item">
              <strong>2. Swap Top Two:</strong><br />
              ƒê·ªÉ swap 2 ph·∫ßn t·ª≠ tr√™n c√πng:<br />
              1. Pop ph·∫ßn t·ª≠ th·ª© nh·∫•t (top)<br />
              2. Pop ph·∫ßn t·ª≠ th·ª© hai (second)<br />
              3. Push ph·∫ßn t·ª≠ th·ª© nh·∫•t tr·ªü l·∫°i<br />
              4. Push ph·∫ßn t·ª≠ th·ª© hai tr·ªü l·∫°i
            </li>
            <li class="step-item">
              <strong>3. Edge Cases:</strong><br />
              - Stack c√≥ < 2 ph·∫ßn t·ª≠ <span class="nav-arrow">‚Üí</span> Kh√¥ng th·ªÉ swap<br />
              - C·∫ßn ki·ªÉm tra size tr∆∞·ªõc khi swap
            </li>
            <li class="step-item">
              <strong>4. Array as Stack:</strong><br />
              JavaScript array c√≥ th·ªÉ d√πng nh∆∞ stack:<br />
              - <code>push()</code> = stack push<br />
              - <code>pop()</code> = stack pop
            </li>
          </ul>
          <div class="code-block">
            <span class="comment">// Swap top two elements</span>
            <span class="keyword">function</span> <span class="function">swapTop</span>(stack) {
              <span class="keyword">if</span> (stack.length < 2) {
                <span class="keyword">return</span> stack; <span class="comment">// Can't swap</span>
              }
              
              <span class="keyword">const</span> first = stack.<span class="function">pop</span>();
              <span class="keyword">const</span> second = stack.<span class="function">pop</span>();
              
              stack.<span class="function">push</span>(first);
              stack.<span class="function">push</span>(second);
              
              <span class="keyword">return</span> stack;
            }
          </div>
        </div>
      </div>

    <!-- Mini IDE Container -->
    <div id="ide-root" class="interaction-area"></div>

    <script src="utils.js?v=7"></script>
    <script>
      const defaultCode = `
// Function to swap top two elements of a stack
function swapTop(stack) {
  if (stack.length < 2) {
    CustomConsole.error('‚ùå Cannot swap: Stack has fewer than 2 elements');
    return stack;
  }
  
  // Pop top two elements
  const first = stack.pop();
  const second = stack.pop();
  
  CustomConsole.info(\`Popped: \${first} and \${second}\`);
  
  // Push back in swapped order
  stack.push(first);
  stack.push(second);
  
  CustomConsole.success(\`Swapped! New top: \${second}\`);
  
  return stack;
}

// Demo: Create and manipulate stacks
CustomConsole.log('üìö Stack Swap Demonstration\\n');

// Test 1: Normal stack
CustomConsole.log('--- Test 1: Normal Stack ---');
let stack1 = [1, 2, 3, 4, 5];
CustomConsole.info(\`Before: [\${stack1.join(', ')}] (top: \${stack1[stack1.length-1]})\`);
swapTop(stack1);
CustomConsole.info(\`After:  [\${stack1.join(', ')}] (top: \${stack1[stack1.length-1]})\\n\`);

// Test 2: String stack
CustomConsole.log('--- Test 2: String Stack ---');
let stack2 = ['A', 'B', 'C', 'D'];
CustomConsole.info(\`Before: [\${stack2.join(', ')}] (top: \${stack2[stack2.length-1]})\`);
swapTop(stack2);
CustomConsole.info(\`After:  [\${stack2.join(', ')}] (top: \${stack2[stack2.length-1]})\\n\`);

// Test 3: Edge case - only 2 elements
CustomConsole.log('--- Test 3: Exactly 2 Elements ---');
let stack3 = [10, 20];
CustomConsole.info(\`Before: [\${stack3.join(', ')}]\`);
swapTop(stack3);
CustomConsole.info(\`After:  [\${stack3.join(', ')}]\\n\`);

// Test 4: Edge case - only 1 element
CustomConsole.log('--- Test 4: Only 1 Element ---');
let stack4 = [42];
CustomConsole.info(\`Before: [\${stack4.join(', ')}]\`);
swapTop(stack4);
CustomConsole.info(\`After:  [\${stack4.join(', ')}]\\n\`);

// Display summary
const outputDiv = document.getElementById('output-display');
if (outputDiv) {
  let output = 'Stack Swap Results:\\n\\n';
  output += \`Test 1: [1,2,3,4,5] <span class="nav-arrow">‚Üí</span> [\${stack1.join(',')}]\\n\`;
  output += \`Test 2: [A,B,C,D] <span class="nav-arrow">‚Üí</span> [\${stack2.join(',')}]\\n\`;
  output += \`Test 3: [10,20] <span class="nav-arrow">‚Üí</span> [\${stack3.join(',')}]\\n\`;
  output += \`Test 4: [42] <span class="nav-arrow">‚Üí</span> [\${stack4.join(',')}] (no change)\\n\`;
  outputDiv.textContent = output;
}

CustomConsole.success('\\n‚ú® All stack operations completed!');
      `;

      MiniIDE.create("ide-root", defaultCode);
    </script>
  </body>
</html>
